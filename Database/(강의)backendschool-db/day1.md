# 데이터 베이스 Day1

## 프로그램밍 및 웹 구조

- 컴퓨터 - 컴퓨터는 계산을 수행하는 기계- 전류가 흐르면1, 안흐르면0으로 이루어짐

- 컴퓨터 구조

  - cpu - 연산 장치 2Ghz, 1초에 0101을 2gb 만큼 할 수 있다

  - Ram - 

  - HDD disk

  - 3개의 관계를 이해하면 프로그래밍에 도움됨

램 하드 는 모두 저장장치
ran은 컴퓨터를 끄면 없어지고, 하드는 컴퓨터는 남아있다
램이 더빠르다,
엑셀을 예로들면 엑셀을 키면 로딩시간이 걸리는데 그게 엑셀 프로그램이  하드에서 램으로 복사해주는것
램에서 실행되서 함수사용하면 cpu에서 계산을 해주게 된다
우리가 만드는것은 램에 올라가서 연산 하는것
그래서 램을 적게 쓰기 위해 알고리즘을 배우는 것이다

OS(Operating System(OS)

CPU, Ram, ?HardDIsk를 컨트롤 하는 소프트웨어
OS에 따라서 같은 부품이어도 성능이 다를수있다
윈도우가 성능은 별로래
OS에서 들어가서 컨트롤하는 프로그램을 커널이라고한다
OS위에서 APP이 돌아가고 우리가 개발하는 부분은 APP이다
웹어플리케이션 - 서버로 요청이 들어왔을때 디비에서 데이터가져와서 클라이언트로 서비스를해주는것

Programing
OS위에서 CPU/RAM/HARDDISK 를 사용하여 컴퓨터에게 연산 좌제를 시키는 것

How programming works?
-Compiler
code -> Binary 기계어

- 동작에 따른 언어의 종류
1) 컴파일러 언어
전체를 컴파일하고 그것을 파일로 만들어서 수행
장점 : 읽는데 속도가 빠르다
단점 : 컴파일하는 과정이 오래걸린다, 번역시간동안 서비스가 중단되어야한다
중간에 끊기지 않고 할 수 있는 방법은 있다
컴파일러 언어가 보통은 배우기가 어렵다

2) 인터프리터 언어
한줄한줄 번역해서 수행(바로바로)
장점: 속도가 느리다 
단점:  바로 실행이 가능하기 때문에 코드를 바꾸어도 서비스를 중단하지 않아도 된다

Code -> Compiler ->  


Coding ? Algorithm?

코끼리를 냉장고에 넣는 방법!

-알고리즘(수행하기 위한 절차)
코끼리를 냉장고 앞으로 이동
냉장고 문을 연다
코끼리를 냉장고에 넣는다
냉장고 문을 닫는다


- 코딩
move
open
input
clsoe

-> 알고리즘은 과정, 코딩은 그걸 코드로쓰는것
알고리즘이 더 어려운 개념일 수 도 잇다


Server & Client Architecture

웹 뿐만아니라 데이터베이스에 접근할때도 이 구조가 그대로 적용되서 알아야한다
- Clent
pc환경 - > workbench가 클라이언트

Server
실제 데이터가 있는 컴퓨터

클라이언트가 요청하고 서버가 응답하는 형태

클라언트와 서버사이에는 인터넷 망이 있다 => 네트워크의 등장..


- URL

http:// -> 프로토콜: 0101이 어떤의미를가질지에 대한 규칙
IP는 internetProtocal 에 준말
32비트인데 각 비트별로 어떤 정보를 가질수 있는지 들어가게 된다
(표를보면서 설명해주셨다)

http : 암호하지않는다
https : 암호화해서 보낸다
클라이언트에서 서버에 전송될때 서로 암호화해서 보내고 복구화한거지 -> https가 기본적인 방법

- 실제주소
- news - Sub Domain
- naver.com - Domain - IP주소와 매핑된다
  - DNS서버에서 naver.com이라고 하면 ip를 알려준다. 그럼 그 IP로 요청을 하게 된다
- 80 - port 서버에 들어가는 게이트, 번호가 여러개 될 수 있다. 서비스별로 어느정도 정해져있다, 자주쓰는80같은건 생략이 가능하다
  - mySQL 3306, MOgoDb는 27017
  - 나중에 서버열때 열어주어야한다
- /main/ 경로
  - 서버도 컴퓨터이기 때문에 폴더 디렉토리에 대한 경로이다
- read.nhn - page - 파일명
- ?model=LSD&... 쿼리 : 요청하는 데이터
  - web application server 쿼리에서 요청한 데이터를 가져와서 html파일에 담아서 완성시켜서 보내는 것이다
- #da_727145 - fragment : 어디클릭하면 저쪽으로이동하게하는기능(웹브라우저내에서)
-  정리 - 주소 도메인ip로 가져가서 경로로가서 파일을 받아오는데 wat에서 데이터를가져와서 클라이언트로 보내주는것



### Get & Post

- Get
  - Url에 데이터가 포함된다. -> 데이터가 노출
    - 이전 예제가 Get방식
    - 검색할때 많이 사용된다
  - 길이 제한이 있다
    - 256자까지 있었으나 지금은 브라우저별로 길이제한이 다르다
- Post
  - Body에 데이터가 포함된다 -> 데이터가 숨겨진다
    - 로그인할때는 많이사용

### Internet

- 인터넷이란
  - 인터넷은 컴퓨터로 연결하여 TCP/IP라는 통신 프로토콜을 이용해 정보를 주고받는 컴퓨터 네트워크
- 우리는 인터넷을 어떻게 사용하고 있을까?
  - 해저케이블을 이용하여 전세계 서버에 접속하여 인터넷을 사용하고 있다.
    - 실제 전기신호가 가는것이네 와우
    - 물리적으로 거리가 멀어지면 인터넷속도가 늦어지는 이유가 여기에 있다
    - 가다가 데이터가 손상되면 다시보낸다. 그래서 속도가 또 늘어지는 것다
    - 무선은 주파수로 연결이 되기 때문에 더 불안정하고 재전송이 많이 일어난다
  - 송전탑에서 빽번방?을 같이보낸다. 한국전력에서 이걸 한다고 한다네

OSI 7 Layer

- Open Systems Interconnection Reference Model
  - 국제 표준화기구에서 개발한 모델로, 컴퓨터 네트워크 프로토콜 디자인과 통신을 계층으로 나누어 설명한 것이다
- 하위 계층으로 갈수록 페이로드가 증가
- 물리계층 데이터링크 네트워크 트랜프포트 등등 모델이되는데 실제로 물리적으로 어떤 모델들이 있을 수 있는지.....전송방식, 구리선 광케이블 등
  - 백엔드 개발을 위해 알아야 되는내용이래
- 클라이언트 - 라우터 -  서버 
  - data-segment-packet-frame 정보를 앞에 이렇게 붙어서간다. dat만보내는게 아니라
  - 라우터쪽에서는  아래세개 나 네개를 까서 보고 보내주고 서버쪽에서는 나머지 다 까서 데이터까지 보내는것. 그래서 서버가 다시 또 데이터에다가 이어붙여서 만들어서 그걸을 라우터로 보내는것
    - TCP IP까지는 알고 있어야지 백엔드 가 어떻게 돌아가는지 이해할 수 가 있게 된다! 와!!!!!!!!!

### Cookie & Session & Cache

- Cookie

  - 하드디스크에 저장되는 정보
    - 로그인 정보, 내가 봤던 상품 정보,
  - 하나의 크라이언트에 300개, 도메인당 20개, 쿠키 하나당 4Kbyte. 브라우저쪽 하드에 도메인 별로저장이된다 

- Session

  - 서버에 접속한 클라이언트에 통로를 열어둔것.
    - 터미널연게 세션을 연것이래

- Cache

  - 메모리에 저장되는것. Ran에 저장된 것을
  - 빠르게 가져오기 위해
    - 요청을한 것을 DB로 가져오면 느리다,
    - 서버에 캐쉬 영역에 24시간 저장해놓기 -> 요청오면 DB가 아닌 캐쉬에서 가져가게하면 빨라진다
    - 램이 빠르고 하드가 두번째 서버가 제일 느리다
  
  

HTTP Status Code

- 서버 통신이 성공했는지 알려주는 코드
- 200번대는 성공
- 300대는 brwosercache에서 보내주는것
- 400대는 리퀘스트는 에러, 404, 요청햇는데 서버가 없는것
- 500대는 서버에서 받앗는데 정상적이지 않은형태
- 자세한건 참고

### Web Language & Framework

이정도는 알아두면 좋다

- Clent
  - HTML, CSS(스타일,보더), JavaScript(이벤트-키보드, 스크롤,클릭) 
    - 주 개발 분야는 아니지만 이 부분도 어느정도는 알고 있어야 한다
  - Js는 react.js vue.js 등 있지만 react를 쓰는게 좋다
    - 커뮤니티가 크고 앱개발도 병행할 수 있다
- Server
  - Ptho - Django,Falsk
    
    - 마이크로 서비스하기에는 Flask가 좋다
    
  - Java - Spring 
    - 대규모 프로젝트에는 Spring이 좋다
    - 돈이 된다
    
  - Ruby - Rails
  
  - JS - Nodejs(Express) NodeJs가 언어이고 Express가 프레임워크
    - 네트워크를 Nodejs는 js문법만 가지고온 것이고 js와는 다르다
    - 노드는 소켓통신- 채팅 할때 사용한다
      - 소켓으로 클라이언트와 서버가 연결되어있는 형태, 채팅서버에 사용이 된다
    - NodeJs로 작은부분들은 개발해서 같이 사용하기도 한다
    
  - Scala - Play
  
    

## AWS설정

- 인스턴스
  - 물리적인 서버를 논리적인 서버로 만드는과정
    - 예전에는 1주일이 걸리는 작업을 5분만에 사용할 수 있게 해준다
  - 인스턴스시작 
  - 우분트18(이 os가 설정된 서버가 생긴다 )
    - 인스턴스 유형선택(t2 micor) (성능/가격플랜을 결정) (회사에서는 t2 lar xlar정도는 쓴다)
      - 3~5번을 생략 - 보안 그룹 구성(포트 구성) 
        - SSH 22포트 -> 터미널로 서버에 접속하는걸 ssh라고 한다
          - ssh란?
            - SSH란 Secure Shell Protocol, 즉 네트워크 프로토콜 중 하나로 컴퓨터와 컴퓨터가 인터넷과 같은 Public Network를 통해 서로 통신을 할 때 보안적으로 안전하게 통신을 하기 위해 사용하는 프로토콜입니다
            - 대표적 사용예
              - 데이터 전송 : 깃헙
              - 원격 제어 : AWS서버.
        - 0.0.0.0이면 모든 ip가 22포트로 들어올수있다
        - 3306추가 - MYSQL
        - Ipv4 보다 ipv6가 /0하나 더붙는다
          - 하지만 v4를 많이 쓴다
        - 0.0.0.0/0 ->  모든 아이피에서 접속이 가능하다
        - 32.4.5.1 이라는 접속하게하고 싶으면  32.4.5.1/32로 설정하면된다
          - 클라이언트 아이피가 위아이피여야만 접속이 가능하다는 의미
          - 인트라넷을 위한방식
        - 32.4.5.0~255 /24를 쓰면된다
          - 0은 4자리수 모두 255, 8이면 3자리가 255, 24는 2개가 255, 32는 하나의 주소만
      - 검토및 시작, 시작하기
      - 키페어 선택 - 새키페어생성 - 키페어 다운로드
        - 키파일은 github에 공유하면 안된다 
- 인스턴스 보기
  - 주소
    - 퍼블릭 주소 : 공유기가 가진 유일한 주소
    - 프라이빗 주소 : 각 기기가 가진 주소 (공유기 안에 인트라넷)
      - 프라비빗은 172로 시작한다 . 127은 LocalHost이다
- 서버에 연결하기
  - 터미널 열기 (Gitbash Powershell 쓰면된다)
    - cd ~ 하면 유저의 최상위폴더로한다
    - pwd하면 현재의 path를 보여준다
    - jbs파일을 .ssh 폴더로이동한다
    - 터미널이 서버로 접속이 되는 방법
      - ssh라는 프로토콜로 접속한다
        - ssh는 클라이언트에서 서버쪽으로 접속하는 프로토콜
      - 그럼 이게 하나의 세션이 열린것
      - 그럼클라이언트에서 서버에 명령을할수있음
      - ssh -i ~/.ssh/jbs.pem ubuntu@퍼블릭 주소로 서버에 연결이 가능하다
        - jbs.pem이 비번, ubuntu가 계정이고 퍼블리 주소가 서버의 주소
        - 여기서 ubuntu는 계정이름이다. 자동으로 계정을 만들어 주는것
        - ubuntu로 서버를 만들었기 때문에 계정이름이 만들어진 것이다
- Mysql 설치
  - free -h를 사용하면 메모리 확인 가능
  - sudo apt-get update -y 
    - sudo 관리자 권한, apt-get이라는 ubuntu 프로그램?관리기능
  - sudo apt-get upgrade -y 
    - -y하면 무조건 y해주는것
  - $표시는 shell에서 하는것이고 mysql에서 입력하면 mysql환경에서 실행
  - -u 유저 -p 패스워드, password
- MySQL Workbench를 통해 jbs로 접속하면 이제 querry문으로 할수있다
  - querry문은 언어처럼 데이터베이스에게 명령을 내릴 수 있는 방식이다



- (1.데이터베이스의 개요)
  - RDBMS 데이터 베이스
    - Oracle, Mysql, Postgresql 을 많이 사용한다
      - posgrsql은 안정적이라 금융권에서 많이 사용한다
    - 데이터 간의 관계가 있다
    - 장단점 : 적은데이터를 넣어도된다, 데이터를 가저오는게 빠르다, 인설트가 느리다. 같은 데이터라도 용량이 크다
      - 가져오는게 많은 자료들은 RDMB사용한다
  - NoSQL 
    - Mongodb, Hbase, Cassandra
    - 장단점 : 모든 데이터를 넣어야한다, 데이터를 가저오는게 느리다, 인설트가 빠르다.  같은 데이터라도 용량이 더 작다
    - 빅데이터 부상과 함께 많은 인서트를 넣어야하기때문에 NoSQL사용한다

- MySQL 특징
  - 다중 사용자와 다중 스레드 지원
    - 루트계정 아래 여러 유저들을 넣고 권한을 설정할 수 있음
  - 다양한 운영체제에 다양한 프로그래밍 언어도 지원
  - 표준 SQL을 사용
    - 데이터 베이스의 문법중에 표준 SQL을 사용한다.  -> 오라클도 그렇다
  - 작고 강력하고 가격이 저렴하다
  - 라이센스
    - MySQL을 하드웨어나 소프트웨어 기타 장바로 판매하는 경우는 필요
    - 소스 공개시 무료, 소스공개 원하지 않는 경우 사용라이센스 필요
    - 서비스에 이용하는건 무료로 가능 - > 페이스북같은 서비스
  - 오라클 사용하는이유
    - 비싸지만 기술지원이 좋음
- 구조
  - 서버(MySQL 서버)  - 데이터베이스(여러개있다) (데이터베이스끼리는 서로 정보를 주고받을수 없다) - 테이블 - row데이터 - 벨류데이터
    - 표 로우와 컬럼으로 테이블이 이루어져있고 하나하나가 벨류라고 한다
    - 컬럼-필드-속성 // 로우-튜플-레코드 로 동의어로 사용된다
    - 이용어들은 NoSQL에서 달라지게 된다
